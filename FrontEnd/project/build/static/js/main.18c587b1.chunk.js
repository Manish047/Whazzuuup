(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{146:function(e,s,a){"use strict";a.r(s);var t,n=a(0),c=a.n(n),o=a(71),r=a.n(o),i=(a(82),a(27)),j=a(2),u=(a(83),a(14)),m=a(16),l=a.n(m),d=a(1),_=function(e){var s=Object(n.useState)(""),a=Object(u.a)(s,2),t=a[0],c=a[1],o=Object(n.useState)(""),r=Object(u.a)(o,2),j=r[0],m=r[1];return Object(d.jsx)("div",{className:l.a.JoinRoom,children:Object(d.jsxs)("div",{className:l.a.Content,children:[Object(d.jsx)("h1",{className:l.a.Heading,children:"Create a Chat Room"}),Object(d.jsx)("hr",{className:l.a.Seperator}),Object(d.jsx)("input",{placeholder:"Name",className:l.a.Input,type:"text",onChange:function(e){return c(e.target.value)}}),Object(d.jsx)("input",{placeholder:"Room",className:l.a.Input,type:"text",onChange:function(e){return m(e.target.value)}}),Object(d.jsx)(i.b,{className:l.a.Button,onClick:function(e){return t&&j?null:e.preventDefault()},to:"/chat?name=".concat(t,"&room=").concat(j),children:"Sign In"})]})})},f=a(77),g=a(73),x=a(74),b=a.n(x),h=a(43),p=a.n(h),O=a(18),v=a.n(O),M=function(e){return Object(d.jsxs)("div",{className:v.a.InfoBar,children:[Object(d.jsx)("div",{className:v.a.Logo,children:Object(d.jsx)("i",{className:"fa fa-whatsapp","aria-hidden":"false"})}),Object(d.jsxs)("div",{className:v.a.Title,children:[Object(d.jsx)("p",{className:v.a.Heading,children:e.room}),Object(d.jsx)("div",{className:v.a.Users,children:e.users.map((function(s,a){return Object(d.jsx)("span",{children:s.name+(a===e.users.length-1?"":", ")},s.id)}))})]}),Object(d.jsx)("button",{className:v.a.CloseButton,onClick:e.endSession,children:"Logout"})]})},N=c.a.memo(M),B=a(28),R=a.n(B),C=function(e){return Object(d.jsxs)("form",{className:R.a.Form,children:[Object(d.jsx)("input",{type:"text",value:e.message,placeholder:"Type a message...",className:R.a.Input,onChange:function(s){return e.setMessage(s.target.value)},onKeyPress:function(s){return"Enter"===s.key?e.sendMessage:null}}),Object(d.jsx)("button",{className:R.a.SendButton,onClick:e.sendMessage,children:Object(d.jsx)("i",{className:"fa fa-paper-plane","aria-hidden":"true"})})]})},S=c.a.memo(C),U=a(75),I=a.n(U),y=a(76),J=a.n(y),T=a(8),k=a.n(T),E=a(44),H=a.n(E),L=function(e){var s=e.message,a=s.text,t=s.user,n=!1,c=e.name.trim().toLowerCase();t===c&&(n=!0);var o=n?Object(d.jsxs)("div",{className:[k.a.UserMessage].join(" "),children:[Object(d.jsx)("p",{className:k.a.UserName,children:c}),Object(d.jsx)("div",{className:k.a.UserMessageBox,children:Object(d.jsx)("p",{className:k.a.UserMessageText,children:H.a.emojify(a)})})]}):Object(d.jsxs)("div",{className:[k.a.RecievedMessage].join(" "),children:[Object(d.jsx)("div",{className:k.a.RecievedMessageBox,children:Object(d.jsx)("p",{className:k.a.RecievedMessageText,children:H.a.emojify(a)})}),Object(d.jsx)("p",{className:k.a.RecievedUserName,children:t})]});return"admin"===t&&(o=Object(d.jsx)("div",{className:k.a.AdminMessage,children:a})),o},w=c.a.memo(L),D=function(e){var s=e.messages,a=e.name;return Object(d.jsx)(J.a,{className:I.a.Messages,children:s.map((function(e,s){return Object(d.jsx)("div",{children:Object(d.jsx)(w,{message:e,name:a})},s)}))})},F=c.a.memo(D),A=function(e){var s=Object(n.useState)(""),a=Object(u.a)(s,2),c=a[0],o=a[1],r=Object(n.useState)(""),i=Object(u.a)(r,2),j=i[0],m=i[1],l=Object(n.useState)([]),_=Object(u.a)(l,2),x=_[0],h=_[1],O=Object(n.useState)(""),v=Object(u.a)(O,2),M=v[0],B=v[1],R=Object(n.useState)([]),C=Object(u.a)(R,2),U=C[0],I=C[1],y="https://chat-47.herokuapp.com/";Object(n.useEffect)((function(){var s=b.a.parse(e.location.search),a=s.name,n=s.room;return t=Object(g.io)(y,{transports:["websocket"]}),o(a),m(n),t.emit("join",{name:a,room:n},(function(s){s&&(e.history.replace("/"),alert(s))})),function(){t.emit("endSession"),t.off("join"),t.off("endSession")}}),[y,e.location.search,e.history]),Object(n.useEffect)((function(){return t.on("message",(function(e){I((function(s){return[].concat(Object(f.a)(s),[e])}))})),t.on("roomData",(function(e){var s=e.users;h(s)})),function(){t.emit("endSession"),t.off("join"),t.off("message"),t.off("roomData"),t.off("endSession")}}),[]);return Object(d.jsx)("div",{className:p.a.Chat,children:Object(d.jsxs)("div",{className:p.a.Content,children:[Object(d.jsx)(N,{room:j,users:x,endSession:function(){t.emit("endSession"),e.history.replace("/")}}),Object(d.jsx)(F,{messages:U,name:c}),Object(d.jsx)(S,{message:M,setMessage:B,sendMessage:function(s){if(s.preventDefault(),M){var a=M;B(""),t.emit("sendMessage",{message:a},(function(s){s&&(e.history.replace("/"),alert(s))}))}}})]})})},G=function(e){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(i.a,{children:Object(d.jsxs)(j.c,{children:[Object(d.jsx)(j.a,{exact:!0,path:"/",component:_}),Object(d.jsx)(j.a,{exact:!0,path:"/chat",component:A}),Object(d.jsx)(j.a,{path:"/",render:function(){return Object(d.jsx)("h1",{children:"404: Page Not Found"})}})]})})})};r.a.render(Object(d.jsx)(G,{}),document.getElementById("root"))},16:function(e,s,a){e.exports={JoinRoom:"JoinRoom_JoinRoom__2uGUU",Content:"JoinRoom_Content__xO69a",Heading:"JoinRoom_Heading__35B0c",Seperator:"JoinRoom_Seperator__2zhgH",Input:"JoinRoom_Input__30you",Button:"JoinRoom_Button__O6cif"}},18:function(e,s,a){e.exports={InfoBar:"InfoBar_InfoBar__31QZK",Logo:"InfoBar_Logo__V_GKf",Title:"InfoBar_Title__3_1EQ",Users:"InfoBar_Users__1SFa5",CloseButton:"InfoBar_CloseButton__11niu"}},28:function(e,s,a){e.exports={Form:"Input_Form__V1UDW",Input:"Input_Input__2GZBH",SendButton:"Input_SendButton__1n_RU"}},43:function(e,s,a){e.exports={Chat:"Chat_Chat__3lBEg",Content:"Chat_Content__jjqvs"}},75:function(e,s,a){e.exports={Messages:"Messages_Messages__1sdSg"}},8:function(e,s,a){e.exports={AdminMessage:"Message_AdminMessage__2eJjC",UserMessage:"Message_UserMessage__1_EZl",RecievedMessage:"Message_RecievedMessage__2hn8x",UserMessageBox:"Message_UserMessageBox__3YLQE",RecievedMessageBox:"Message_RecievedMessageBox__18R6r",UserName:"Message_UserName__3Unt3",RecievedUserName:"Message_RecievedUserName__2yavy",UserMessageText:"Message_UserMessageText__3rH1W",RecievedMessageText:"Message_RecievedMessageText__1gPWV"}},82:function(e,s,a){},83:function(e,s,a){}},[[146,1,2]]]);
//# sourceMappingURL=main.18c587b1.chunk.js.map